<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="Jekyll v4.2.2" /><meta property="og:title" content="Building a Twitter Clone with Phoenix (Elixir)" /><meta name="author" content="pmatarodrigues" /><meta property="og:locale" content="en_US" /><meta name="description" content="Phoenix is a web development framework written in Elixir which implements the Model – View – Controller (MVC) pattern. Phoenix is a lot of times compared with other web frameworks like Ruby on Rails and Django" /><meta property="og:description" content="Phoenix is a web development framework written in Elixir which implements the Model – View – Controller (MVC) pattern. Phoenix is a lot of times compared with other web frameworks like Ruby on Rails and Django" /><link rel="canonical" href="http://localhost:4000/a/building-a-twitter-clone-with-phoenix-elixir" /><meta property="og:url" content="http://localhost:4000/a/building-a-twitter-clone-with-phoenix-elixir" /><meta property="og:site_name" content="Blog" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2020-08-22T00:00:00+01:00" /><meta name="twitter:card" content="summary" /><meta property="twitter:title" content="Building a Twitter Clone with Phoenix (Elixir)" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"pmatarodrigues"},"dateModified":"2020-08-22T00:00:00+01:00","datePublished":"2020-08-22T00:00:00+01:00","description":"Phoenix is a web development framework written in Elixir which implements the Model – View – Controller (MVC) pattern. Phoenix is a lot of times compared with other web frameworks like Ruby on Rails and Django","headline":"Building a Twitter Clone with Phoenix (Elixir)","mainEntityOfPage":{"@type":"WebPage","@id":"http://localhost:4000/a/building-a-twitter-clone-with-phoenix-elixir"},"url":"http://localhost:4000/a/building-a-twitter-clone-with-phoenix-elixir"}</script><title> Building a Twitter Clone with Phoenix (Elixir) - Blog</title><link rel="shortcut icon" href="/favicon.png"><link rel="alternate" type="application/atom+xml" title="Blog" href="/atom.xml"><link rel="alternate" type="application/json" title="Blog" href="http://localhost:4000/feed.json" /><link rel="sitemap" type="application/xml" title="sitemap" href="/sitemap.xml" /><style> @font-face{font-family:'Open Sans';font-style:normal;font-weight:400;src:url("/assets/fonts/open-sans/open-sans-v28-latin-regular.eot");src:local(""),url("/assets/fonts/open-sans/open-sans-v28-latin-regular.eot?#iefix") format("embedded-opentype"),url("/assets/fonts/open-sans/open-sans-v28-latin-regular.woff2") format("woff2"),url("/assets/fonts/open-sans/open-sans-v28-latin-regular.woff") format("woff"),url("/assets/fonts/open-sans/open-sans-v28-latin-regular.ttf") format("truetype"),url("/assets/fonts/open-sans/open-sans-v28-latin-regular.svg#OpenSans") format("svg")}@font-face{font-family:'Open Sans';font-style:normal;font-weight:600;src:url("/assets/fonts/open-sans/open-sans-v28-latin-600.eot");src:local(""),url("/assets/fonts/open-sans/open-sans-v28-latin-600.eot?#iefix") format("embedded-opentype"),url("/assets/fonts/open-sans/open-sans-v28-latin-600.woff2") format("woff2"),url("/assets/fonts/open-sans/open-sans-v28-latin-600.woff") format("woff"),url("/assets/fonts/open-sans/open-sans-v28-latin-600.ttf") format("truetype"),url("/assets/fonts/open-sans/open-sans-v28-latin-600.svg#OpenSans") format("svg")}@font-face{font-family:'Open Sans';font-style:normal;font-weight:700;src:url("/assets/fonts/open-sans/open-sans-v28-latin-700.eot");src:local(""),url("/assets/fonts/open-sans/open-sans-v28-latin-700.eot?#iefix") format("embedded-opentype"),url("/assets/fonts/open-sans/open-sans-v28-latin-700.woff2") format("woff2"),url("/assets/fonts/open-sans/open-sans-v28-latin-700.woff") format("woff"),url("/assets/fonts/open-sans/open-sans-v28-latin-700.ttf") format("truetype"),url("/assets/fonts/open-sans/open-sans-v28-latin-700.svg#OpenSans") format("svg")}@font-face{font-family:'Open Sans';font-style:normal;font-weight:800;src:url("/assets/fonts/open-sans/open-sans-v28-latin-800.eot");src:local(""),url("/assets/fonts/open-sans/open-sans-v28-latin-800.eot?#iefix") format("embedded-opentype"),url("/assets/fonts/open-sans/open-sans-v28-latin-800.woff2") format("woff2"),url("/assets/fonts/open-sans/open-sans-v28-latin-800.woff") format("woff"),url("/assets/fonts/open-sans/open-sans-v28-latin-800.ttf") format("truetype"),url("/assets/fonts/open-sans/open-sans-v28-latin-800.svg#OpenSans") format("svg")}@font-face{font-family:'Merriweather';font-style:normal;font-weight:400;src:url("/assets/fonts/merriweather/merriweather-v28-latin-regular.eot");src:local(""),url("/assets/fonts/merriweather/merriweather-v28-latin-regular.eot?#iefix") format("embedded-opentype"),url("/assets/fonts/merriweather/merriweather-v28-latin-regular.woff2") format("woff2"),url("/assets/fonts/merriweather/merriweather-v28-latin-regular.woff") format("woff"),url("/assets/fonts/merriweather/merriweather-v28-latin-regular.ttf") format("truetype"),url("/assets/fonts/merriweather/merriweather-v28-latin-regular.svg#Merriweather") format("svg")}@font-face{font-family:'Merriweather';font-style:normal;font-weight:700;src:url("/assets/fonts/merriweather/merriweather-v28-latin-700.eot");src:local(""),url("/assets/fonts/merriweather/merriweather-v28-latin-700.eot?#iefix") format("embedded-opentype"),url("/assets/fonts/merriweather/merriweather-v28-latin-700.woff2") format("woff2"),url("/assets/fonts/merriweather/merriweather-v28-latin-700.woff") format("woff"),url("/assets/fonts/merriweather/merriweather-v28-latin-700.ttf") format("truetype"),url("/assets/fonts/merriweather/merriweather-v28-latin-700.svg#Merriweather") format("svg")}@font-face{font-family:'Montserrat';font-style:normal;font-weight:400;src:url("/assets/fonts/montserrat/montserrat-v23-latin-regular.eot");src:local(""),url("/assets/fonts/montserrat/montserrat-v23-latin-regular.eot?#iefix") format("embedded-opentype"),url("/assets/fonts/montserrat/montserrat-v23-latin-regular.woff2") format("woff2"),url("/assets/fonts/montserrat/montserrat-v23-latin-regular.woff") format("woff"),url("/assets/fonts/montserrat/montserrat-v23-latin-regular.ttf") format("truetype"),url("/assets/fonts/montserrat/montserrat-v23-latin-regular.svg#Montserrat") format("svg")}@font-face{font-family:'Montserrat';font-style:normal;font-weight:700;src:url("/assets/fonts/montserrat/montserrat-v23-latin-700.eot");src:local(""),url("/assets/fonts/montserrat/montserrat-v23-latin-700.eot?#iefix") format("embedded-opentype"),url("/assets/fonts/montserrat/montserrat-v23-latin-700.woff2") format("woff2"),url("/assets/fonts/montserrat/montserrat-v23-latin-700.woff") format("woff"),url("/assets/fonts/montserrat/montserrat-v23-latin-700.ttf") format("truetype"),url("/assets/fonts/montserrat/montserrat-v23-latin-700.svg#Montserrat") format("svg")}*,:after,:before{box-sizing:border-box;background-color:inherit;color:inherit;margin:0;padding:0}html{--text-font: Merriweather;--post-font: Montserrat;--title-font: Merriweather;--source-code-font: Source Code Pro;--very-light-text-color: rgb(222, 222, 222);--light-text-color: #bbf0f0;--medium-text-color: #555;--main-text-color: #333;--highlight-text-color: #6cb4a0;--dark-text-color: #393e46;--link-color: rgb(72,187,120);--code-bg-color: rgb(245, 245, 245)}body{font-family:var(--text-font),"serif";-webkit-font-smoothing:antialiased;text-rendering:optimizeLegibility;text-decoration:none;line-height:1.5;letter-spacing:0.02rem;font-size:1.2rem;color:#16171a}nav ul{border-right:1px solid #edf2f7}a{color:#000;text-decoration-skip-ink:auto;text-decoration:none}pre{margin:.5rem 0;padding:.5rem}.post p{font-family:var(--post-font),"serif";margin:.5rem 0}.post a{color:var(--link-color)}.post h1,.post h2,.post h3,.post h4{font-family:var(--title-font),"sans-serif";margin:1rem 0}.post h2:first-child,.project h2:first-child,.photo h2:first-child{margin-top:0}.post h1{font-family:var(--title-font),"serif";font-size:3rem;line-height:3.5rem}.post h2{margin-top:4rem}.post h3{margin-top:3rem}.post .meta{font-weight:300;margin:4rem 0}code,pre{background:#ecedee}code{padding:.1rem}pre code{border:none}pre{padding:1rem;overflow-x:auto}img{max-width:100%}hr{background:#000;height:1px;border:0}header{flex-basis:10rem;flex-grow:1;position:relative}header a{text-decoration:none}header li{margin-bottom:.2rem;text-align:right;margin-right:2rem}header a.active{font-weight:bold}header,section{padding:1rem}.site-description{font-size:0.9rem}blockquote{box-sizing:border-box;margin:0 0 1.75em -2.2em;padding:0 0 0 1.75em;border-left:var(--main-text-color) 0.4em solid}blockquote p{margin:0 0 1.75em 0}h1,h2,h3,h4,h5{line-height:1;margin:1rem 0;font-weight:600}section h1:first-child{margin-top:0}strong,b{font-weight:bold}.photos ul{list-style:none}.photos li{margin-bottom:1.5rem}.photo picture,.project picture{margin-bottom:0.5rem}.posts ul,header ul{list-style:none}.posts .previous-articles-heading{font-family:var(--post-font),"sans-serif"}.latest-posts h1 .post-title{font-family:var(--post-font),"sans-serif";overflow-wrap:break-word;line-height:1.3em}.latest-posts h1 .post-title:hover{text-decoration:underline}.latest-posts li{margin-bottom:3rem;list-style:none}.latest-posts .date{text-transform:uppercase;font-size:0.8rem}.previous-posts .post-title{font-family:var(--title-font),"serif";font-size:1.1rem;line-height:2rem;max-width:80%}.previous-posts .post-title:hover{text-decoration:underline}.previous-posts .tag-heading{font-size:1.2rem;color:var(--medium-text-color);opacity:0.5}.previous-posts .posts-for-tag{margin-bottom:3rem}.previous-posts .posts-for-tag h5{margin-bottom:0.5rem}.previous-posts li{list-style:circle;align-items:center;display:flex;justify-content:space-between}.previous-posts li .date{font-size:0.9rem}.posts li .date{opacity:0.4}.posts p{color:var(--medium-text-color);font-size:1rem;line-height:1.8rem;margin-bottom:1rem}.posts li div,.projects li a{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;text-decoration:none}.posts li time,.projects li time{padding-left:1rem;white-space:nowrap;font-variant-numeric:tabular-nums}main,#intro{display:flex;flex-wrap:wrap;max-width:60rem;margin:2rem auto;padding:1rem}.social-footer{padding:1rem;display:flex;justify-content:center;position:initial}.social-footer .social-footer-icons .footer-icons{text-decoration:underline;font-weight:bold}.social-footer .social-footer-icons .fa{font-size:1.3rem;color:#a9a9a9}.social-footer .social-footer-icons .fa:hover{color:dimgray;transition:color 0.3s ease-in}@media screen and (max-width: 45rem){header li{display:inline;margin-right:1rem}.logo{padding-bottom:1rem}header ul{border-bottom:1px solid #edf2f7;padding-bottom:2rem}nav ul{border-right:0px}.photos ul{margin-top:0.5rem}}section{flex-basis:0;flex-grow:999;min-width:70%;display:flex;flex-direction:column}figcaption{font-size:smaller}</style></head><body><div id="intro"><div class="flex-row-between"><h1>Blog</h1><p class="site-description">by Pedro Mata Rodrigues</p></div></div><main role="main"><header role="banner"> <!--<h1 class="logo">Blog</h1>--><nav role="navigation"><ul><li><a href="/" >Articles</a></li><li><a href="https://pmatarodrigues.com" >About</a></li></ul></nav></header><section class="post"><h1 class="main-title">Building a Twitter Clone with Phoenix (Elixir)</h1><span class="meta"><time datetime="2020-08-22T00:00:00+01:00">On August 22, 2020</time> &middot; <a href="/t/coding">#coding</a></span><blockquote><p><em>(Work in Progress)</em></p><p>This blog post is being updated as i’m progressing through the project and implementing new features and learning new things</p></blockquote><h2 id="preparing-project">Preparing Project</h2><h3 id="1-install-latest-phoenix-version-from-github-with-special-features">1. Install latest Phoenix version (from github, with special features)</h3><p><code>$ git clone </code><a href="https://github.com/phoenixframework/phoenix.git" title="https://github.com/phoenixframework/phoenix.git"><code>https://github.com/phoenixframework/phoenix.git</code></a> <code>$ cd phoenix/installer</code> <code>$ mix archive.install</code></p><h3 id="2-create-the-project-tuita-is-projects-name">2. Create the project (<strong>tuita</strong> is project’s name)</h3><p><code>$ mix phx.new </code><strong><code>tuita</code></strong><code> --live</code></p><h3 id="3-configure-project">3. Configure project</h3><p><strong>Timeline</strong> is the main field, which will be composed of <strong>Tuites</strong> (called <em>tuites</em> on the database, and will contain the fields marked as bold on the command (username, body, fav_count and retuite_count).</p><p><code>$ mix phx.gen.live Timeline Tuite tuites </code><strong><code>username body fav_count:integer retuite_count:integer</code></strong></p><h3 id="4-add-live-routes-to-scope">4. Add live routes to scope</h3><pre><code class="language-elixir">    live "/tuites", TuiteLive.Index, :index
    live "/tuites/new", TuiteLive.Index, :new
    live "/tuites/:id/edit", TuiteLive.Index, :edit

    live "/tuites/:id", TuiteLive.Show, :show
    live "/tuites/:id/show/edit", TuiteLive.Show, :edit
</code></pre><h3 id="5-create-and-migrate-database">5. Create and migrate Database</h3><p><code>$ mix ecto.create</code></p><p><code>$ mix ecto.migrate</code></p><h3 id="6-running-server">6. Running server</h3><p><code>$ mix phx.server</code></p><p>Now we visit <strong>localhost:4000</strong> and there it is, our newly (and ridiculously fast) created blog style website with live update. As simple as that.</p><p><img src="https://ementa.test/wp-content/uploads/2020/09/image.png" alt="" /></p><h2 id="project-structure">Project Structure</h2><ul><li>_build</li><li>assets</li><li>config</li><li>deps</li><li><strong>lib</strong><ul><li><strong>tuita</strong><ul><li><strong>timeline</strong> (the one we previously set as the main container)<ul><li>tuite.ex (configuration of each tuite)</li></ul></li><li>(…)</li></ul></li><li><strong>tuita_web</strong><ul><li>controllers</li><li>live<ul><li><em>here we can configure each components presentation format</em></li></ul></li><li>templates</li><li>views</li><li>(…)</li></ul></li><li>tuita.ex</li><li>tuita_web.ex</li></ul></li><li>priv</li><li>test</li><li>(…)</li></ul><h2 id="input-validation">Input Validation</h2><p>After removing the unnecessary fields from <strong>form_component.html.leex</strong> and leaving just the body, proceeding to the validation of those fields on <strong>tuite.ex</strong>. Adding validation is as simple as modifying the following lines on that file:</p><pre><code class="language-elixir">      @doc false
      def changeset(tuite, attrs) do
        tuite
        |&gt; cast(attrs, [:body])
        |&gt; validate_required([:body])
        |&gt; validate_length(:body, min: 2, max: 275)
      end
</code></pre><h2 id="live-updates">Live Updates</h2><p><img src="https://ementa.test/wp-content/uploads/2020/09/ezgif.com-video-to-gif.gif" alt="" /></p><p>Working with this Phoenix’s <strong><a href="https://hexdocs.pm/phoenix_live_view/Phoenix.LiveView.html">LiveView</a></strong> module allows us to automatically render the page with the newly created data, without the need to completely refresh the page. Using LiveView, only the necessary data is passed on this broadcast, keeping the internet usage pretty low.</p><h3 id="resources">Resources</h3><ul><li><a href="https://hexdocs.pm/phoenix/gigalixir.html">Gigalixir</a></li></ul><blockquote><p><em>(Work in Progress)</em></p><p>This blog post is being updated as i’m progressing through the project and implementing new features and learning new things</p></blockquote></section></main></body><footer class="social-footer"><div class="social-footer-icons"> <a class="footer-icons" href="https://github.com/pmatarodrigues" title="Github profile, nothing much there, yet" target="_blank" rel="noopener noreferrer">Gh</a> <a class="footer-icons" href="https://linkedin.com/in/pmatarodrigues" title="Linkedin profile, nothing much there, yet" target="_blank" rel="noopener noreferrer">In</a> <a class="footer-icons" href="https://pmatarodrigues.com" title="Linkedin profile, nothing much there, yet" target="_blank" rel="noopener noreferrer">Web</a> <a class="footer-icons" href="http://localhost:4000/atom.xml" title="Feed RSS" target="_blank" rel="noopener noreferrer">Rss</a></div></footer></html>
